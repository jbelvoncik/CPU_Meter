# CPU_Meter

Floating overlay/helper app for macOS (Apple Silicon).  
Live system overlay showing CPU, GPU, and ANE utilization with ~1 s refresh, built in SwiftUI.

---

### üß† Authorship Notice
This project was **not written by a human developer**.  
All source code, scripts, and documentation were generated by **ChatGPT (GPT-5)** at the request of **Jozef Belvonƒçik**.  
Repository purpose: **educational & experimental**.

---

### üì¶ Project Status
- **Repository:** initialized and public  
- **Codebase:** minimal overlay with live CPU / GPU / ANE display  
- **Distribution:** signed `.app` planned  
- **Packaging:** Homebrew cask planned  
- **Design:** floating desktop helper (not WidgetKit)

---

### ‚úÖ Verification Status
| Status | Description |
|:--:|:--|
| ‚úÖ | GitHub repository exists and synced |
| ‚úÖ | App builds and runs locally on macOS 26.0 (Tahoe) |
| ‚è≥ | GPU / ANE via `powermetrics` parser |
| ‚è≥ | Homebrew cask / tap |
| ‚è≥ | Signed distributable bundle |

---

### üó∫Ô∏è Roadmap
1. Refine SwiftUI overlay (CPU % + GPU % + ANE %)  
2. Add per-core bars & dynamic refresh rate  
3. Add menu bar item with **About CPU Meter** dialog  
4. Implement preferences (theme, opacity, refresh)  
5. Package `.app` ‚Üí notarized / Homebrew release


### GPU / ANE Metrics (current method)
Due to macOS 14+ (Tahoe) changes, `powermetrics` no longer exposes SMC sampler data.
Current GPU and ANE usage values are approximated by scanning `ioreg` output for:
- **H11ANE** ‚Üí Neural Engine activity
- **AppleARMPMUPowerSensor** ‚Üí GPU power sensors  

The values are normalized heuristically to provide relative load indicators.
Future updates may use `IOReportCopyChannelsInGroup` for true power sampling (no root access required).

---

### GPU / ANE Sampling Method

CPU usage is sampled natively via `host_processor_info()`.

GPU and ANE usage are estimated via a lightweight **IORegistry heuristic**,  
which inspects live entries under `AppleARMPMUPowerSensor` (GPU power sensors)  
and `H11ANE` (Apple Neural Engine).  
This approach is **safe**, requires **no root privileges**, and works on all Apple Silicon  
systems including macOS 26 (Tahoe). It provides approximate utilization metrics  
based on active sensor count and update frequency.

